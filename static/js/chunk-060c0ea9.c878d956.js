(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-060c0ea9"],{"2a1d":function(t,a,e){"use strict";e("4e33")},"42f7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-row",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{gutter:5}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"hover"},scopedSlots:t._u([{key:"header",fn:function(){return[e("i",{staticClass:"el-icon-setting"}),t._v(" "),e("span",[t._v("工具栏")])]},proxy:!0}])},t._l(t.mathJaxCommands,(function(a,s){return e("el-popover",{key:s,attrs:{name:s,width:"400",trigger:"hover",placement:"right"}},[t._l(a.items,(function(s,o){return e("el-button",{key:o,staticClass:"el-button-math",attrs:{id:a.name+o},on:{click:function(e){return t.btn_click(a.name+o,s.mathJax)}}},[!0===s.isformat?e("span",[e("mathjax",{attrs:{formula:s.value}})],1):t._e(),!1===s.isformat?e("span",[t._v(t._s(s.text))]):t._e()])})),e("el-button",{staticClass:"el-button-math-ref",attrs:{slot:"reference"},slot:"reference"},[!0===a.isformat?e("span",[e("mathjax",{attrs:{formula:a.value}})],1):t._e(),!1===a.isformat?e("span",[t._v(t._s(a.text))]):t._e()])],2)})),1)],1)],1),e("el-row",{staticClass:"el-row-math",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{gutter:5}},[e("el-col",{staticClass:"el-col-math",attrs:{span:12}},[e("el-card",{staticClass:"el-card-math",attrs:{shadow:"hover"},scopedSlots:t._u([{key:"header",fn:function(){return[e("i",{staticClass:"el-icon-edit"}),t._v(" "),e("span",[t._v("代码区")])]},proxy:!0}])},[e("textarea",{staticClass:"textarea",attrs:{id:"id_input_textarea",contenteditable:"true"},on:{input:t.input,mouseup:t.getLastSelection,keyup:t.getLastSelection}})])],1),e("el-col",{staticClass:"el-col-math",attrs:{span:12}},[e("el-card",{staticClass:"el-card-math",attrs:{shadow:"hover"},scopedSlots:t._u([{key:"header",fn:function(){return[e("i",{staticClass:"el-icon-view"}),t._v(" "),e("span",[t._v("预览区")])]},proxy:!0}])},[e("mathjax",{staticClass:"display",attrs:{formula:t.value}})],1)],1)],1)],1)},o=[];e("fb6a"),e("b775");function i(t,a){var e=window.MathJax;if(e){var s=document.getElementById(t);console.log(s),e.typesetClear([s]),s.innerHTML=a,e.typesetPromise([s]).then((function(){}))}else this.mathjaxTypesetPromise()}function n(){return[{name:"Symbols",text:"特殊符号",isformat:!1,value:null,items:[{isformat:!1,text:"$ $",mathJax:"$  $",value:"$  $"},{isformat:!1,text:"$$ $$",mathJax:"$$   $$",value:"$$   $$"},{isformat:!1,text:"\\{ \\}",mathJax:"\\{  \\}",value:"$$\\{  \\}$$"},{isformat:!1,text:"{ }",mathJax:"{  }",value:"\\{  \\}"},{isformat:!1,text:"\\[ \\]",mathJax:"\\[  \\]",value:"\\[  \\]"},{isformat:!1,text:"[ ]",mathJax:"[  ]",value:"[  ]"},{isformat:!1,text:"\\( \\)",mathJax:"\\(  \\)",value:"\\(  \\)"},{isformat:!1,text:"&",mathJax:"&",value:"&"},{isformat:!1,text:"#",mathJax:"#",value:"#"},{isformat:!1,text:"%",mathJax:"%",value:"%"},{isformat:!1,text:"^",mathJax:"^",value:"^"},{isformat:!1,text:"~",mathJax:"~",value:"~"},{isformat:!1,text:"_",mathJax:"_",value:"_"},{isformat:!1,text:"'",mathJax:"'",value:"'"},{isformat:!1,text:",",mathJax:",",value:","},{isformat:!1,text:"空格",mathJax:"\\ ",value:"$$\\ $$"},{isformat:!0,text:"\\_",mathJax:"\\_",value:"$$\\_$$"},{isformat:!0,text:"\\,",mathJax:"\\,",value:"$$,$$"},{isformat:!0,text:"\\;",mathJax:"\\;",value:"$$;$$"},{isformat:!0,text:"\\:",mathJax:"\\:",value:"$$:$$"},{isformat:!0,text:"\\!",mathJax:"\\!",value:"$$!$$"},{isformat:!1,text:"\\",mathJax:"\\",value:"$$\\$$"},{isformat:!1,text:"\\&",mathJax:"\\&",value:"$$&$$"},{isformat:!0,text:"\\#",mathJax:"\\#",value:"$$\\#$$"},{isformat:!0,text:"\\%",mathJax:"\\%",value:"$$\\%$$"},{isformat:!0,text:"\\>",mathJax:"\\>",value:"$$>$$"},{isformat:!0,text:"\\|",mathJax:"\\|",value:"$$\\|$$"},{isformat:!0,text:"\\&",mathJax:"\\&",value:"$$\\&$$"}]},{name:"A",text:"希腊字母",isformat:!1,value:"$$A$$",items:[{isformat:!0,text:"\\&",mathJax:"\\alpha",value:"$$\\alpha$$"}]},{name:"B",text:"符号",isformat:!1,value:"$$B$$",items:[{isformat:!0,text:"\\&",mathJax:"\\pm",value:"$$\\pm$$"}]},{name:"C",text:"逻辑&集合",isformat:!1,value:"$$B$$",items:[{isformat:!0,text:"\\&",mathJax:"\\because 原因",value:"$$\\because 原因 $$"}]},{name:"D",text:"三角函数",isformat:!1,value:"$$B$$",items:[{isformat:!0,text:"\\&",mathJax:"\\sin 30^\\circ",value:"$$ \\sin 30^\\circ $$"}]},{name:"E",text:"等号&不等号",isformat:!1,value:"$$B$$",items:[{isformat:!0,text:"\\&",mathJax:"a = b",value:"$$ a=b $$"},{isformat:!0,text:"\\&",mathJax:"a \\neq b",value:"$$ a \\neq b $$"},{isformat:!0,text:"\\&",mathJax:"a < b",value:"$$ a < b $$"},{isformat:!0,text:"\\&",mathJax:"a > b",value:"$$ a > b $$"},{isformat:!0,text:"\\&",mathJax:"a \\geq b",value:"$$ a \\geq b $$"},{isformat:!0,text:"\\&",mathJax:"a \\leq b",value:"$$ a \\leq b $$"},{isformat:!0,text:"\\&",mathJax:"a \\not< b",value:"$$ a \\not< b $$"},{isformat:!0,text:"\\&",mathJax:"a \\not> b",value:"$$ a \\not> b $$"},{isformat:!0,text:"\\&",mathJax:"a \\approx b",value:"$$ a \\approx b $$"},{isformat:!0,text:"\\&",mathJax:"a \\equiv b",value:"$$ a \\equiv b $$"},{isformat:!0,text:"\\&",mathJax:"a \\gg b",value:"$$ a \\gg b $$"},{isformat:!0,text:"\\&",mathJax:"a \\sim b",value:"$$ a \\sim b $$"}]}]}var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{ref:"mathJaxEl"},[t._v(t._s(t.formula))])},r=[],m={name:"UoMathjax",props:{formula:{type:String},safe:{type:Boolean,default:!0},options:{type:Object,default:function(){return{}}}},watch:{formula:function(){this.renderMathJax()}},mounted:function(){this.renderMathJax()},methods:{renderContent:function(){this.safe?this.$refs.mathJaxEl.textContent=this.formula:this.$refs.mathJaxEl.innerHTML=this.formula},renderMathJax:function(){this.renderContent(),window.MathJax&&window.MathJax.typesetPromise([this.$refs.mathJaxEl]).then((function(){}))}}},$=m,u=e("2877"),x=Object(u["a"])($,l,r,!1,null,null,null),h=x.exports,c={name:"tex",components:{Mathjax:h},data:function(){return{value:"",collapseActiveName:"default",mathJaxCommands:[],lastPostion:0,lastSelection:null}},mounted:function(){var t=this;this.$nextTick((function(){t.mathJaxCommands=n()}))},methods:{input:function(t){var a=t.target;console.log(a.value),this.value=a.value,this.mathjaxRender()},mathjaxRender:function(){},insertText:function(t){var a=document.getElementById("id_input_textarea");console.log("DOM",a,a.selectionStart,this.lastPostion),this.value=this.value.slice(0,this.lastPostion)+t+this.value.slice(this.lastPostion),a.value=this.value,a.focus();var e=this.lastPostion+t.length;console.log("newPostion",e),a.selectionStart=e,a.selectionEnd=e,this.lastPostion=e,this.mathjaxRender()},getLastSelection:function(){var t=document.getElementById("id_input_textarea");this.lastPostion=t.selectionStart},setLastSelectionPosition:function(t){var a=window.getSelection();a.length>0&&a.removeAllRanges(),this.lastSelection.setStartAfter(),a.addRange(this.lastSelection),console.log(this.lastSelection),this.lastSelection.endOffset=t},tip_mouseover:function(t,a){console.log(t,a),i(t,"\\["+a+"\\]"),console.log("tip_mouseover")},btn_click:function(t,a){this.insertText(a)}}},f=c,v=(e("2a1d"),Object(u["a"])(f,s,o,!1,null,"a6e6512e",null));a["default"]=v.exports},"4e33":function(t,a,e){}}]);